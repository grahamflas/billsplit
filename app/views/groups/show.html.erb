<div class="flex flex-col gap-4">
  <h1 class="text-4xl"><%= @group.name %></h1>

  <div>
    <h2 class="text-2xl">Group members</h2>
    <ul>
      <% @group.users.each do |user| %>
        <li><%= user.email %></li>
      <% end %>
    </ul>
  </div>

  <% if @expenses.any? %>
    <div>
      <h2 class="text-2xl mb-4">Balances</h2>

      <ul>
        <% @balances_by_member_email.each do |member_email, balance| %>
          <% if balance.to_f.zero? %>
            <li><%= member_email %> is all settled up</li>
          <% elsif balance.to_f.positive? %>
            <li><%= member_email %> owes <%= number_to_currency(balance.abs, unit: "") %></li>
          <% else %>
            <li><%= member_email %> is owed <%= number_to_currency(balance.abs, unit: "") %></li>
          <% end %>
        <% end %>
      </ul>
    </div>

    <div>
      <h2 class="text-2xl mb-4">Expenses</h2>

      <div class="flex flex-col gap-4">
        <%= render @expenses %>
      </div>
    </div>
  <% end %>
</>

